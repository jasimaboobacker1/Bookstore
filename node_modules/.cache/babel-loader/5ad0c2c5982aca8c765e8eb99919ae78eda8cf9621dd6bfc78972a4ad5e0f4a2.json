{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{useState,useEffect}from'react';import{getusers,deleteuser}from'../Services/allAPI';import Adminnav from'./Adminnav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function UserManage(){const[allusers,setallusers]=useState([]);const[delresponse,setdelresponse]=useState(1);const getusersdetails=async()=>{const result=await getusers();//  console.log(result.data);\nsetallusers(result.data);};const handledeleteuser=async e=>{// console.log(e);\nconsole.log(e._id);const reqBody=e._id;const res=await deleteuser(reqBody);if(res.status==200){setdelresponse(delresponse+1);}else{alert(\"Action Failed!!! Please try after some time\");}};useEffect(()=>{getusersdetails();},[delresponse]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Adminnav,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"tablecontainer d-flex flex-column align-items-center mt-5 \",style:{width:\"100%\",height:\"100vh\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users Table\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"rounded shadow-lg  \",style:{width:\"900px\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-center\",children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-center\",children:\"Password\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-center\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 text-center\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allusers.length>0?allusers.map(users=>/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:users.username}),/*#__PURE__*/_jsx(\"td\",{children:users.password}),/*#__PURE__*/_jsx(\"td\",{children:users.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:e=>handledeleteuser(users),children:\"Block User\"})})]})):/*#__PURE__*/_jsx(\"h3\",{className:\"text-danger text-center\",children:\"No Users\"})})]})]})]});}export default UserManage;","map":{"version":3,"names":["React","Link","useState","useEffect","getusers","deleteuser","Adminnav","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserManage","allusers","setallusers","delresponse","setdelresponse","getusersdetails","result","data","handledeleteuser","e","console","log","_id","reqBody","res","status","alert","children","className","style","width","height","length","map","users","username","password","email","onClick"],"sources":["C:/Users/DELL/OneDrive/Desktop/MEARN PROJECT/BookStore/src/Admin/UserManage.jsx"],"sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useState,useEffect } from 'react'\r\nimport { getusers,deleteuser } from '../Services/allAPI'\r\nimport Adminnav from './Adminnav'\r\n\r\nfunction UserManage() {\r\n    const[allusers,setallusers]=useState([])\r\n    const [delresponse,setdelresponse]=useState(1)\r\n\r\n\r\n\r\n    const getusersdetails = async()=>{\r\n        const result = await getusers()\r\n        //  console.log(result.data);\r\n        setallusers(result.data)\r\n        \r\n     }\r\n\r\n     const handledeleteuser = async(e)=>{\r\n        // console.log(e);\r\n        console.log(e._id);\r\n        const reqBody = e._id\r\n        const res = await deleteuser(reqBody)\r\n        if(res.status==200){\r\n          setdelresponse(delresponse+1)\r\n        }\r\n        else{\r\n          alert(\"Action Failed!!! Please try after some time\")\r\n        }\r\n        \r\n      }\r\n\r\n\r\n\r\n     useEffect(()=>{\r\n        getusersdetails()\r\n      },[delresponse])\r\n  return (\r\n    <>\r\n    <Adminnav/>\r\n    \r\n       <div className=\"tablecontainer d-flex flex-column align-items-center mt-5 \" style={{width:\"100%\",height:\"100vh\"}}>\r\n        <h1>Users Table</h1>\r\n        <table className='rounded shadow-lg  ' style={{width:\"900px\"}}>\r\n            <thead>\r\n          \r\n                <tr >\r\n                    <th className='p-2 text-center'>Username</th>\r\n                    <th className='p-2 text-center'>Password</th>\r\n                    <th className='p-2 text-center'>Email</th>\r\n                    <th className='p-2 text-center'>Actions</th>\r\n                </tr>\r\n            </thead>\r\n            \r\n            <tbody>\r\n            {\r\n        allusers.length>0?allusers.map((users)=>(\r\n          <tr className='text-center'>\r\n         <td className='p-3'>{users.username}</td>\r\n         <td>{users.password}</td>\r\n         <td>{users.email}</td>\r\n         <td><button className='btn btn-danger' onClick={e=>handledeleteuser(users)}>Block User</button></td>\r\n       </tr>\r\n        )): <h3 className='text-danger text-center'>No Users</h3>\r\n       }\r\n            </tbody>\r\n        </table>\r\n       </div>\r\n    \r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserManage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}