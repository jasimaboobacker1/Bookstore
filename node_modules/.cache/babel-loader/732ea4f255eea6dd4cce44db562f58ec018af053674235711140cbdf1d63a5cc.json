{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./AddBook.css';import{Form}from'react-bootstrap';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{sellAPI}from'../Services/allAPI';import{Link}from'react-router-dom';import Adminnav from'./Adminnav';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Addbook(){const[preview,setPreview]=useState(\"\");const navigate=useNavigate();const[bookDetails,setBookDetails]=useState({bookname:\"\",author:\"\",price:\"\",bookImage:\"\"});const handleclose=()=>{setBookDetails({bookname:\"\",author:\"\",price:\"\",bookImage:\"\"});setPreview(\"\");};const handlesell=async e=>{e.preventDefault();const{bookname,author,price,bookImage}=bookDetails;if(!bookname||!author||!price||!bookImage){toast.warning(\"Please fill the form completely\");}else{const reqBody=new FormData();reqBody.append(\"bookname\",bookname);reqBody.append(\"author\",author);reqBody.append(\"price\",price);reqBody.append(\"bookImage\",bookImage);const reqHeader={\"Content-Type\":\"multipart/form-data\"};const result=await sellAPI(reqBody,reqHeader);if(result.status===200){console.log(result.data);toast.success(\"Book added Successfully\");navigate('/booksmanage');}else{console.log(result);toast.warning(result.response.data);}}};useEffect(()=>{if(bookDetails.bookImage){setPreview(URL.createObjectURL(bookDetails.bookImage));}},[bookDetails.bookImage]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Adminnav,{}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',height:'auto'},className:\"d-flex mt-5 justify-content-center align-items-center \",children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:'700px',height:'auto'},className:\"shadow-lg p-3 mb-5 bg-body-tertiary d-flex justify-content-center align-items-center\",children:[/*#__PURE__*/_jsxs(\"label\",{style:{width:'100%',height:'auto'},className:\"p-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",style:{display:'none'},onChange:e=>setBookDetails({...bookDetails,bookImage:e.target.files[0]})}),/*#__PURE__*/_jsx(\"img\",{style:{width:\"auto\",height:\"250px\"},className:\"img-fluid\",src:preview?preview:\"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/310px-Placeholder_view_vector.svg.png\",alt:\"\"})]}),/*#__PURE__*/_jsxs(Form,{className:\"text-secondary w-100 p-5 \",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Book Name :\"}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"exampleForm.ControlInput1\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Bookname\",value:bookDetails.bookname,onChange:e=>setBookDetails({...bookDetails,bookname:e.target.value})})}),/*#__PURE__*/_jsx(\"h6\",{children:\"Author:\"}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"exampleForm.ControlInput1\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Authur\",value:bookDetails.author,onChange:e=>setBookDetails({...bookDetails,author:e.target.value})})}),/*#__PURE__*/_jsx(\"h6\",{children:\"Price :\"}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"exampleForm.ControlTextarea1\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"price\",placeholder:\"Enter the price\",value:bookDetails.price,onChange:e=>setBookDetails({...bookDetails,price:e.target.value})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex  justify-content-center align-items-center \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",children:/*#__PURE__*/_jsx(Link,{to:'/booksmanage',children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",onClick:handleclose,children:\"CANCEL\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ms-3\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",onClick:handlesell,children:\"Add\"})})]})]})]}),/*#__PURE__*/_jsx(ToastContainer,{theme:\"colored\",autoClose:2000,position:\"top-right\"})]})]});}export default Addbook;","map":{"version":3,"names":["React","useEffect","useState","Form","ToastContainer","toast","sellAPI","Link","Adminnav","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Addbook","preview","setPreview","navigate","bookDetails","setBookDetails","bookname","author","price","bookImage","handleclose","handlesell","e","preventDefault","warning","reqBody","FormData","append","reqHeader","result","status","console","log","data","success","response","URL","createObjectURL","children","style","width","height","className","type","display","onChange","target","files","src","alt","Group","controlId","Control","placeholder","value","to","onClick","theme","autoClose","position"],"sources":["C:/Users/DELL/OneDrive/Desktop/MEARN PROJECT/BookStore/src/Admin/Addbook.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport './AddBook.css'\r\nimport { Form } from 'react-bootstrap'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { sellAPI } from '../Services/allAPI';\r\nimport { Link } from 'react-router-dom';\r\nimport Adminnav from './Adminnav';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\n\r\n\r\nfunction Addbook() {\r\n    const [preview,setPreview] = useState(\"\")\r\n    const navigate = useNavigate();\r\n    \r\n  \r\n  const [bookDetails,setBookDetails] = useState({\r\n    bookname:\"\",author:\"\",price:\"\",bookImage:\"\"\r\n  })\r\n\r\n  const handleclose = () =>{\r\n    setBookDetails({\r\n      bookname:\"\",author:\"\",price:\"\",bookImage:\"\"\r\n    })\r\n    setPreview(\"\")\r\n    \r\n\r\n  }\r\n  const handlesell = async (e)=>{\r\n    e.preventDefault()\r\n    const  {bookname,author,price,bookImage} = bookDetails\r\n    if(!bookname || !author || !price || !bookImage){\r\n      toast.warning(\"Please fill the form completely\") \r\n    }else{\r\n      const reqBody = new FormData()\r\n      reqBody.append(\"bookname\",bookname)\r\n      reqBody.append(\"author\",author)\r\n      reqBody.append(\"price\",price)\r\n      reqBody.append(\"bookImage\",bookImage)\r\n\r\n      \r\n        const reqHeader = {\r\n          \"Content-Type\":\"multipart/form-data\",\r\n          \r\n        }\r\n        const result = await sellAPI(reqBody,reqHeader)\r\n        if(result.status===(200)){\r\n          console.log(result.data);\r\n          toast.success(\"Book added Successfully\")\r\n          navigate('/booksmanage');\r\n         \r\n\r\n        }else{\r\n          console.log(result);\r\n          toast.warning(result.response.data);\r\n        }\r\n      \r\n    }\r\n  }\r\n\r\n\r\n  useEffect(()=>{\r\n    if(bookDetails.bookImage){\r\n      setPreview(URL.createObjectURL(bookDetails.bookImage))\r\n    }\r\n\r\n  },[bookDetails.bookImage])\r\n\r\n  return (\r\n    <>\r\n    <Adminnav/>\r\n    <div style={{width:'100%',height:'auto'}} className='d-flex mt-5 justify-content-center align-items-center '>\r\n    <div style={{width:'700px',height:'auto'}} className='shadow-lg p-3 mb-5 bg-body-tertiary d-flex justify-content-center align-items-center'>\r\n    <label style={{width:'100%',height:'auto'}} className='p-3' >\r\n    <input type=\"file\" style={{ display: 'none' }} onChange={e=>setBookDetails({...bookDetails,bookImage:e.target.files[0]})}/>\r\n   <img style={{width:\"auto\",height:\"250px\"}} className='img-fluid' src={preview?preview:\"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/310px-Placeholder_view_vector.svg.png\"} alt=\"\" />\r\n                    </label>\r\n    <Form className='text-secondary w-100 p-5 '>\r\n   \r\n      \r\n          <h6>Book Name :</h6>\r\n                      <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                          <Form.Control type=\"text\" placeholder=\"Bookname\" value={bookDetails.bookname} onChange={e=>setBookDetails({...bookDetails,bookname:e.target.value})}  />\r\n                      </Form.Group>\r\n                      <h6>Author:</h6>\r\n                      <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                          <Form.Control type=\"text\" placeholder=\"Authur\" value={bookDetails.author} onChange={e=>setBookDetails({...bookDetails,author:e.target.value})}  />\r\n                      </Form.Group>\r\n                 \r\n                  <h6>Price :</h6>\r\n                  <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\r\n                      <Form.Control type=\"price\" placeholder=\"Enter the price\" value={bookDetails.price} onChange={e=>setBookDetails({...bookDetails,price:e.target.value})}  />\r\n                  </Form.Group> \r\n                     <div className='d-flex  justify-content-center align-items-center '>\r\n                          <div className='me-3'>\r\n                              <Link to={'/booksmanage'}><button className='btn btn-dark' onClick={handleclose}>CANCEL</button></Link>\r\n                          </div>\r\n                          <div className='ms-3'>\r\n                          <button className='btn btn-dark' onClick={handlesell} >Add</button>\r\n       \r\n                    </div>\r\n                   </div>\r\n            </Form></div>\r\n            <ToastContainer \r\ntheme=\"colored\"\r\nautoClose={2000}\r\nposition=\"top-right\"/>\r\n</div>\r\n</>\r\n  )\r\n}\r\n\r\nexport default Addbook"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}