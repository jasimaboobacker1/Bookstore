{"ast":null,"code":"import React,{useState}from'react';import{Form}from'react-bootstrap';import{Link}from'react-router-dom';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{registerAPI,loginAPI}from'../Services/allAPI';import{useNavigate}from'react-router-dom';import Header from'../Components/Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Auth(_ref){let{register}=_ref;const navigate=useNavigate();const[userData,setUserData]=useState({username:\"\",email:\"\",password:\"\"});const isRegisterForm=register?true:false;const handleregister=async e=>{e.preventDefault();const{username,email,password}=userData;if(!username||!email||!password){toast.info(\"Please fill the form completely\");}else{const result=await registerAPI(userData);if(result.status===200){toast.success(\"\".concat(result.data.username,\" has registerd successfully!!!\"));setUserData({username:\"\",email:\"\",password:\"\"});navigate('/login');}else{toast.warning(result.response.data);console.log(result);}}};const handleLogin=async e=>{e.preventDefault();const{email,password}=userData;if(userData.email==\"admin@gmail.com\"&&userData.password==\"admin123\"){navigate('/adminhome');}else{const result=await loginAPI(userData);if(result.status===200){// toast.success(`${result.data.username} has registerd successfully!!!`)\nsessionStorage.setItem(\"existingUser\",JSON.stringify(result.data.existingUser));sessionStorage.setItem(\"token\",result.data.token);setUserData({email:\"\",password:\"\"});navigate('/');window.location.reload();}else{toast.warning(result.response.data);console.log(result);}}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',height:'700px'},className:\"d-flex justify-content-center align-items-center \",children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:'700px',height:'400px'},className:\"shadow-lg p-3 mb-5 bg-body-tertiary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center flex-column align-items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"fw-bolder text-secondary\",children:\"BOOKIES\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"fw-bolder text-secondary mt-2 pb-3\",children:isRegisterForm?'Sign up to your Account':'Sign in to your Account'})]}),/*#__PURE__*/_jsxs(Form,{className:\"text-secondary w-100\",children:[isRegisterForm&&/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"exampleForm.ControlInput1\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Username\",value:userData.username,onChange:e=>setUserData({...userData,username:e.target.value})})}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"exampleForm.ControlTextarea1\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter Email Id\",value:userData.email,onChange:e=>setUserData({...userData,email:e.target.value})})}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"exampleForm.ControlTextarea1\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter Password\",value:userData.password,onChange:e=>setUserData({...userData,password:e.target.value})}),\"\\xA0\\xA0\\xA0\"]}),isRegisterForm?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",onClick:handleregister,children:\"Register\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an Account? Click Here To \",/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none',color:'red'},to:'/login',children:\"Login\"}),\" \"]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",onClick:handleLogin,children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"New User? Click Here To \",/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none',color:'red'},to:'/register',children:\"Register\"}),\" \"]})]})]})]}),/*#__PURE__*/_jsx(ToastContainer,{theme:\"colored\",autoClose:2000,position:\"top-right\"})]})]});}export default Auth;","map":{"version":3,"names":["React","useState","Form","Link","ToastContainer","toast","registerAPI","loginAPI","useNavigate","Header","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Auth","_ref","register","navigate","userData","setUserData","username","email","password","isRegisterForm","handleregister","e","preventDefault","info","result","status","success","concat","data","warning","response","console","log","handleLogin","sessionStorage","setItem","JSON","stringify","existingUser","token","window","location","reload","children","style","width","height","className","Group","controlId","Control","type","placeholder","value","onChange","target","onClick","textDecoration","color","to","theme","autoClose","position"],"sources":["C:/Users/DELL/OneDrive/Desktop/MEARN PROJECT/BookStore/src/Components/Auth.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { Form } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { registerAPI,loginAPI } from '../Services/allAPI';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Header from '../Components/Header'\r\n\r\n\r\nfunction Auth({register}) {\r\n    const navigate = useNavigate()\r\n    const [userData,setUserData] = useState({\r\n        username:\"\",email:\"\",password:\"\"\r\n    })\r\n     const isRegisterForm = register?true:false\r\n     \r\n     const handleregister = async (e) =>{\r\n        e.preventDefault()\r\n        const {username,email,password} = userData\r\n        if(!username || !email || !password){\r\n          toast.info(\"Please fill the form completely\")\r\n        }else{\r\n          const result = await registerAPI(userData)\r\n          if(result.status===200){\r\n            toast.success(`${result.data.username} has registerd successfully!!!`)\r\n            setUserData({\r\n              username:\"\",email:\"\",password:\"\"\r\n            })\r\n            navigate('/login')\r\n          }else{\r\n            toast.warning(result.response.data)\r\n            console.log(result);\r\n          }\r\n        }\r\n     }\r\n     const handleLogin = async (e)=>{\r\n        e.preventDefault()\r\n        const {email,password} = userData\r\n        if(userData.email==\"admin@gmail.com\"&&userData.password==\"admin123\"){\r\n          navigate('/adminhome')\r\n        }else{\r\n          const result = await loginAPI(userData)\r\n          if(result.status===200){\r\n            // toast.success(`${result.data.username} has registerd successfully!!!`)\r\n            sessionStorage.setItem(\"existingUser\",JSON.stringify(result.data.existingUser))\r\n            sessionStorage.setItem(\"token\",result.data.token)\r\n            setUserData({\r\n              email:\"\",password:\"\"\r\n            })\r\n            navigate('/')\r\n            window.location.reload();\r\n        \r\n          }else{\r\n            toast.warning(result.response.data)\r\n            console.log(result);\r\n          }\r\n        }\r\n      }\r\n\r\n  return (\r\n    <>\r\n    <Header/>\r\n \r\n            <div style={{width:'100%',height:'700px'}} className='d-flex justify-content-center align-items-center '>\r\n                <div style={{width:'700px',height:'400px'}} className='shadow-lg p-3 mb-5 bg-body-tertiary'>\r\n<div className='d-flex justify-content-center flex-column align-items-center'>\r\n                    <h1 className='fw-bolder text-secondary'>BOOKIES</h1>\r\n                            <h5 className='fw-bolder text-secondary mt-2 pb-3'>\r\n                                {\r\n                                    isRegisterForm ? 'Sign up to your Account':'Sign in to your Account'\r\n                                }\r\n                            </h5>\r\n</div>\r\n                <Form className='text-secondary w-100'>\r\n                        {\r\n                                isRegisterForm && \r\n                                <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                                    <Form.Control type=\"text\" placeholder=\"Username\" value={userData.username} onChange={e=>setUserData({...userData,username:e.target.value})} />\r\n                                </Form.Group>\r\n                             } \r\n                            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\r\n                                <Form.Control type=\"email\" placeholder=\"Enter Email Id\" value={userData.email} onChange={e=>setUserData({...userData,email:e.target.value})} />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\r\n                                <Form.Control type=\"password\" placeholder=\"Enter Password\" value={userData.password} onChange={e=>setUserData({...userData,password:e.target.value})} />\r\n                            </Form.Group>\r\n                              {\r\n                                isRegisterForm ? \r\n                                <div>\r\n                                    <button className='btn btn-dark' onClick={handleregister} >Register</button>\r\n                                    <p>Already have an Account? Click Here To <Link style={{textDecoration:'none',color:'red'}} to={'/login'}>Login</Link> </p>\r\n                                </div>:\r\n                                <div>\r\n                                <button className='btn btn-dark' onClick={handleLogin} >Login</button>\r\n                                <p>New User? Click Here To <Link style={{textDecoration:'none',color:'red'}} to={'/register'}>Register</Link> </p>\r\n                            </div>\r\n                              }\r\n                        </Form>\r\n                </div>\r\n                <ToastContainer \r\n       theme=\"colored\"\r\n       autoClose={2000}\r\n       position=\"top-right\"/>\r\n            </div>\r\n\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Auth"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}