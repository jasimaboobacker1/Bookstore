{"ast":null,"code":"import React,{useEffect,useState}from'react';import{allBooksAPI}from'../Services/allAPI';import'./BooksManage.css';import{BASE_URL}from'../Services/baseurl';import{deletebookAPI}from'../Services/allAPI';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{Link}from'react-router-dom';import Adminnav from'./Adminnav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function BooksManage(){const[allbooks,setAllbooks]=useState([]);const[deleteresponse,setresponse]=useState(1);const getallbooks=async()=>{const result=await allBooksAPI();if(result.status===200){setAllbooks(result.data);}};const handlebookdelete=async e=>{const reqBody=e._id;const result=await deletebookAPI(reqBody);if(result.status==200){setresponse(deleteresponse+1);}else{alert(\"Action Failed !!! Please Try After Some Time...\");}};useEffect(()=>{getallbooks();},[deleteresponse]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Adminnav,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"h1\",className:\"text-center\",children:\"BOOKS\"}),/*#__PURE__*/_jsx(Link,{to:'/addbook',children:/*#__PURE__*/_jsx(\"button\",{className:\"btn text-light ms-5 me-5 mb-2 \",style:{width:\"auto\",backgroundColor:\"#023246\"},children:\"Add New Books\"})})]}),/*#__PURE__*/_jsx(\"div\",{id:\"card-cont\",className:\"row row-cols-1 row-cols-md-4 g-4 py-1 d-flex  flex-wrap align-items-center justify-content-center\",children:allbooks.map(book=>/*#__PURE__*/_jsx(\"div\",{className:\"col d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-lg\",children:[/*#__PURE__*/_jsx(\"img\",{src:book?\"\".concat(BASE_URL,\"/Uploads/\").concat(book===null||book===void 0?void 0:book.bookImage):\"Uploads\\\\image-1701440853878-its.png\",style:{height:'300px',width:'100%'},className:\"img-fluid card-img-top\",alt:book.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h6\",{children:[\"Book Name: \",book.bookname]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h6\",{children:[\"Author: \",book.author]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h6\",{children:[\"Price: \",book.price,\" \\u20B9\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:e=>handlebookdelete(book),children:\"Delete\"})})]})},book._id))}),/*#__PURE__*/_jsx(ToastContainer,{theme:\"colored\",autoClose:2000,position:\"top-right\"})]})]});}export default BooksManage;","map":{"version":3,"names":["React","useEffect","useState","allBooksAPI","BASE_URL","deletebookAPI","ToastContainer","toast","Link","Adminnav","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BooksManage","allbooks","setAllbooks","deleteresponse","setresponse","getallbooks","result","status","data","handlebookdelete","e","reqBody","_id","alert","children","className","id","to","style","width","backgroundColor","map","book","src","concat","bookImage","height","alt","name","bookname","author","price","onClick","theme","autoClose","position"],"sources":["C:/Users/DELL/OneDrive/Desktop/MEARN PROJECT/BookStore/src/Admin/BooksManage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { allBooksAPI } from '../Services/allAPI';\r\nimport './BooksManage.css';\r\nimport { BASE_URL } from '../Services/baseurl';\r\nimport { deletebookAPI } from '../Services/allAPI';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Link } from 'react-router-dom';\r\nimport Adminnav from './Adminnav';\r\n\r\nfunction BooksManage() {\r\n  const [allbooks, setAllbooks] = useState([]);\r\n  const[deleteresponse,setresponse]=useState(1)\r\n\r\n  const getallbooks = async () => {\r\n    const result = await allBooksAPI();\r\n\r\n    if (result.status === 200) {\r\n      setAllbooks(result.data);\r\n    }\r\n  }\r\n\r\n  const handlebookdelete =async(e)=>{\r\n    const reqBody=e._id\r\n    const result=await deletebookAPI(reqBody)\r\n    if(result.status==200){\r\n      setresponse(deleteresponse+1)\r\n    }\r\n    else{\r\n      alert(\"Action Failed !!! Please Try After Some Time...\")\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getallbooks();\r\n  }, [deleteresponse]);\r\n  \r\n  return (\r\n    <>\r\n    <Adminnav/>\r\n     <div className=\"container py-5\">\r\n        <div className='d-flex flex-column align-items-center justify-content-center'>\r\n          <h1 id=\"h1\" className=\"text-center\">\r\n            BOOKS\r\n          </h1>\r\n          <Link to={'/addbook'}><button className='btn text-light ms-5 me-5 mb-2 ' style={{width:\"auto\",backgroundColor:\"#023246\"}}>Add New Books</button></Link>\r\n        </div>\r\n        <div\r\n          id=\"card-cont\"\r\n          className=\"row row-cols-1 row-cols-md-4 g-4 py-1 d-flex  flex-wrap align-items-center justify-content-center\"\r\n        >\r\n         \r\n          {allbooks.map((book) => (\r\n            <div key={book._id}   className=\"col d-flex align-items-center justify-content-center\">\r\n              <div className=\"card shadow-lg\">\r\n                <img src={book ? `${BASE_URL}/Uploads/${book?.bookImage}` : \"Uploads\\\\image-1701440853878-its.png\"} style={{ height: '300px', width: '100%' }} className=\"img-fluid card-img-top\" alt={book.name} />\r\n                <div className=\"card-body d-flex flex-column\">\r\n                  <div>\r\n                    <h6>Book Name: {book.bookname}</h6>\r\n                  </div>\r\n                  <div>\r\n                    <h6>Author: {book.author}</h6>\r\n                  </div>\r\n                  <div>\r\n                    <h6>Price: {book.price} &#8377;</h6>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mb-3 d-flex justify-content-center\">\r\n                  <button className=\"btn btn-primary\" onClick={e=>handlebookdelete(book)}>Delete</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <ToastContainer\r\n          theme=\"colored\"\r\n          autoClose={2000}\r\n          position=\"top-right\" />\r\n      </div>\r\n    \r\n    </>\r\n  )\r\n}\r\n\r\nexport default BooksManage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}